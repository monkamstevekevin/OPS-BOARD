{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"../services/toast.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = () => [1, 2, 3, 4];\nfunction AdminComponent_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ls_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", ls_r1.hostname);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\"\", ls_r1.hostname, \" (\", ls_r1.node, \"/\", ls_r1.vmid, \")\");\n  }\n}\nfunction AdminComponent_div_115_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 35);\n  }\n}\nfunction AdminComponent_div_115_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"div\", 33);\n    i0.ɵɵtemplate(2, AdminComponent_div_115_div_2_Template, 1, 0, \"div\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction AdminComponent_table_116_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"input\", 37);\n    i0.ɵɵlistener(\"change\", function AdminComponent_table_116_tr_16_Template_input_change_2_listener($event) {\n      const a_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.toggleOne(a_r5.hostname, $event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 39);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const a_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", ctx_r2.isSelected(a_r5.hostname));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r5.hostname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"up\", a_r5.status === \"UP\")(\"stale\", a_r5.status === \"STALE\")(\"down\", a_r5.status !== \"UP\" && a_r5.status !== \"STALE\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(a_r5.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r5.cpu != null ? i0.ɵɵpipeBind2(10, 12, a_r5.cpu, \"1.0-0\") + \"%\" : \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(a_r5.ram != null ? i0.ɵɵpipeBind2(13, 15, a_r5.ram, \"1.0-0\") + \"%\" : \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(a_r5.disk != null ? i0.ɵɵpipeBind2(16, 18, a_r5.disk, \"1.0-0\") + \"%\" : \"\");\n  }\n}\nfunction AdminComponent_table_116_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 36)(1, \"thead\")(2, \"tr\")(3, \"th\")(4, \"input\", 37);\n    i0.ɵɵlistener(\"change\", function AdminComponent_table_116_Template_input_change_4_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleAll($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Hostname\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"CPU\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"RAM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Disk\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, AdminComponent_table_116_tr_16_Template, 17, 21, \"tr\", 38);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r2.allSelected());\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.filteredAssets());\n  }\n}\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor(api, toasts) {\n      this.api = api;\n      this.toasts = toasts;\n      this.node = localStorage.getItem('ops.defaultNode') || '';\n      this.vmid = '';\n      this.prog = '';\n      this.args = '';\n      this.stdin = '';\n      this.timeout = '10';\n      this.out = signal('');\n      // Bulk\n      this.bulkTag = '';\n      this.bulkHosts = '';\n      this.bulkAction = 'start';\n      // Selection list\n      this.assets = [];\n      this.loading = false;\n      this.filter = '';\n      this.selection = new Set();\n      // Live list for VM dropdown\n      this.liveList = [];\n      this.selectedVmHost = '';\n      this.loadAssets();\n      this.loadLive();\n      this.liveTimer = setInterval(() => this.loadLive(), 30000);\n    }\n    request(obs, label) {\n      this.out.set('Loading...');\n      obs.subscribe({\n        next: r => this.out.set(`${label}: ` + JSON.stringify(r, null, 2)),\n        error: e => this.out.set('Erreur: ' + (e.message || e))\n      });\n    }\n    saveNode() {\n      if (this.node && this.node.trim()) localStorage.setItem('ops.defaultNode', this.node.trim());\n    }\n    start() {\n      this.saveNode();\n      this.request(this.api.adminStart(this.node, +this.vmid), 'start');\n    }\n    shutdown() {\n      this.saveNode();\n      this.request(this.api.adminShutdown(this.node, +this.vmid), 'shutdown');\n    }\n    stop() {\n      this.saveNode();\n      this.request(this.api.adminStop(this.node, +this.vmid), 'stop');\n    }\n    reset() {\n      this.saveNode();\n      this.request(this.api.adminReset(this.node, +this.vmid), 'reset');\n    }\n    exec() {\n      this.saveNode();\n      const cmd = [this.prog, ...this.args.split(' ').filter(Boolean)];\n      const t = parseInt(String(this.timeout || '10'), 10);\n      this.request(this.api.adminExec(this.node, +this.vmid, cmd, this.stdin, t), 'exec');\n    }\n    bulk() {\n      const hostnames = this.bulkHosts.split(/\\r?\\n/).map(s => s.trim()).filter(Boolean);\n      const tag = this.bulkTag.trim() || undefined;\n      this.out.set('Loading...');\n      this.api.adminBulk(this.bulkAction, {\n        hostnames: hostnames.length ? hostnames : undefined,\n        tag\n      }).subscribe({\n        next: r => this.out.set(JSON.stringify(r, null, 2)),\n        error: e => this.out.set('Erreur: ' + (e.message || e))\n      });\n    }\n    // Load assets for selection\n    loadAssets() {\n      this.loading = true;\n      this.api.listAssets(this.filter).subscribe({\n        next: a => {\n          this.assets = a;\n          this.loading = false;\n        },\n        error: _ => {\n          this.loading = false;\n        }\n      });\n    }\n    debouncedLoad() {\n      if (this.searchTimer) clearTimeout(this.searchTimer);\n      this.searchTimer = setTimeout(() => this.loadAssets(), 400);\n    }\n    filteredAssets() {\n      return this.assets;\n    }\n    isSelected(h) {\n      return this.selection.has(h);\n    }\n    selectedCount() {\n      return this.selection.size;\n    }\n    toggleOne(h, ev) {\n      if (ev?.target?.checked) this.selection.add(h);else this.selection.delete(h);\n    }\n    allSelected() {\n      return this.assets.length > 0 && this.assets.every(a => this.selection.has(a.hostname));\n    }\n    toggleAll(ev) {\n      const checked = !!ev?.target?.checked;\n      if (checked) {\n        this.assets.forEach(a => this.selection.add(a.hostname));\n      } else {\n        this.assets.forEach(a => this.selection.delete(a.hostname));\n      }\n    }\n    runBulk() {\n      if (this.selection.size === 0) return;\n      const hostnames = Array.from(this.selection);\n      this.out.set('Loading...');\n      this.api.adminBulk(this.bulkAction, {\n        hostnames\n      }).subscribe({\n        next: res => {\n          const ok = res.filter(r => r.outcome === 'OK').length;\n          const err = res.length - ok;\n          this.toasts.success(`${this.bulkAction} OK on ${ok} host(s)`);\n          if (err > 0) this.toasts.error(`${err} failed`);\n          this.out.set(JSON.stringify(res, null, 2));\n        },\n        error: e => {\n          this.toasts.error(e.message || 'bulk error');\n          this.out.set('Erreur: ' + (e.message || e));\n        }\n      });\n    }\n    // Live VM dropdown helpers\n    loadLive() {\n      this.api.liveAll().subscribe({\n        next: l => this.liveList = l,\n        error: _ => {}\n      });\n    }\n    onSelectVm() {\n      const vm = this.liveList.find(x => x.hostname === this.selectedVmHost);\n      if (vm) {\n        if (vm.node) this.node = vm.node;\n        if (vm.vmid) this.vmid = vm.vmid;\n      }\n    }\n    static {\n      this.ɵfac = function AdminComponent_Factory(t) {\n        return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminComponent,\n        selectors: [[\"app-admin\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 117,\n        vars: 19,\n        consts: [[1, \"card\"], [1, \"toolbar\"], [1, \"col\"], [\"placeholder\", \"ex: Caureqlab\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngModelChange\", \"change\", \"ngModel\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"placeholder\", \"ex: 101\", 3, \"ngModelChange\", \"ngModel\"], [1, \"col\", 2, \"align-self\", \"center\"], [1, \"actions\"], [1, \"btn\", \"primary\", 3, \"click\"], [1, \"btn\", 3, \"click\"], [1, \"actions\", 2, \"margin-top\", \"8px\"], [\"placeholder\", \"ex: cmd.exe ou bash\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"ex: /c whoami ou -lc whoami\", 3, \"ngModelChange\", \"ngModel\"], [\"rows\", \"3\", 3, \"ngModelChange\", \"ngModel\"], [1, \"row\"], [\"type\", \"number\", \"placeholder\", \"10\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"start\"], [\"value\", \"shutdown\"], [\"value\", \"stop\"], [\"value\", \"reset\"], [\"placeholder\", \"tag name\", 3, \"ngModelChange\", \"ngModel\"], [\"rows\", \"4\", \"placeholder\", \"vm-101-web\\nvm-102-db\", 3, \"ngModelChange\", \"ngModel\"], [1, \"muted\"], [1, \"input-group\"], [1, \"icon\"], [\"placeholder\", \"hostname...\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"btn\", \"primary\", 3, \"click\", \"disabled\"], [\"class\", \"skeleton\", \"style\", \"padding:12px\", 4, \"ngIf\"], [\"class\", \"assets-table\", 4, \"ngIf\"], [1, \"skeleton\", 2, \"padding\", \"12px\"], [1, \"sk-rect\", 2, \"width\", \"40%\", \"margin-bottom\", \"10px\"], [\"class\", \"sk-rect\", \"style\", \"margin:8px 0\", 4, \"ngFor\", \"ngForOf\"], [1, \"sk-rect\", 2, \"margin\", \"8px 0\"], [1, \"assets-table\"], [\"type\", \"checkbox\", 3, \"change\", \"checked\"], [4, \"ngFor\", \"ngForOf\"], [1, \"status\"]],\n        template: function AdminComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n            i0.ɵɵtext(2, \"Actions Admin\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"label\");\n            i0.ɵɵtext(6, \"Node\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_7_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.node, $event) || (ctx.node = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\");\n            i0.ɵɵtext(10, \"VM\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"select\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_select_ngModelChange_11_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.selectedVmHost, $event) || (ctx.selectedVmHost = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function AdminComponent_Template_select_change_11_listener() {\n              return ctx.onSelectVm();\n            });\n            i0.ɵɵelementStart(12, \"option\", 5);\n            i0.ɵɵtext(13, \"-- select VM --\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(14, AdminComponent_option_14_Template, 2, 4, \"option\", 6);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 2)(16, \"label\");\n            i0.ɵɵtext(17, \"VMID\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"input\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_18_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.vmid, $event) || (ctx.vmid = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 8)(20, \"div\", 9)(21, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_21_listener() {\n              return ctx.start();\n            });\n            i0.ɵɵtext(22, \"Start\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_23_listener() {\n              return ctx.shutdown();\n            });\n            i0.ɵɵtext(24, \"Shutdown\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_25_listener() {\n              return ctx.stop();\n            });\n            i0.ɵɵtext(26, \"Stop\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_27_listener() {\n              return ctx.reset();\n            });\n            i0.ɵɵtext(28, \"Reset\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(29, \"div\", 12)(30, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_30_listener() {\n              return ctx.start();\n            });\n            i0.ɵɵtext(31, \"Start\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_32_listener() {\n              return ctx.shutdown();\n            });\n            i0.ɵɵtext(33, \"Shutdown\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_34_listener() {\n              return ctx.stop();\n            });\n            i0.ɵɵtext(35, \"Stop\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_36_listener() {\n              return ctx.reset();\n            });\n            i0.ɵɵtext(37, \"Reset\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(38, \"hr\");\n            i0.ɵɵelementStart(39, \"h3\");\n            i0.ɵɵtext(40, \"Exec via QGA\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"div\", 1)(42, \"div\", 2)(43, \"label\");\n            i0.ɵɵtext(44, \"Program\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"input\", 13);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_45_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.prog, $event) || (ctx.prog = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(46, \"div\", 2)(47, \"label\");\n            i0.ɵɵtext(48, \"Args\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"input\", 14);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_49_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.args, $event) || (ctx.args = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(50, \"div\", 8)(51, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_51_listener() {\n              return ctx.exec();\n            });\n            i0.ɵɵtext(52, \"Exec\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(53, \"label\");\n            i0.ɵɵtext(54, \"STDIN (optional)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(55, \"textarea\", 15);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_textarea_ngModelChange_55_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.stdin, $event) || (ctx.stdin = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"div\", 16)(57, \"div\", 2)(58, \"label\");\n            i0.ɵɵtext(59, \"Timeout (sec)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(60, \"input\", 17);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_60_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.timeout, $event) || (ctx.timeout = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(61, \"div\", 0)(62, \"h3\");\n            i0.ɵɵtext(63, \"Bulk VM Actions\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(64, \"div\", 1)(65, \"div\", 2)(66, \"label\");\n            i0.ɵɵtext(67, \"Action\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"select\", 18);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_select_ngModelChange_68_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.bulkAction, $event) || (ctx.bulkAction = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(69, \"option\", 19);\n            i0.ɵɵtext(70, \"Start\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(71, \"option\", 20);\n            i0.ɵɵtext(72, \"Shutdown\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(73, \"option\", 21);\n            i0.ɵɵtext(74, \"Stop\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(75, \"option\", 22);\n            i0.ɵɵtext(76, \"Reset\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(77, \"div\", 2)(78, \"label\");\n            i0.ɵɵtext(79, \"Tag (optional)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(80, \"input\", 23);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_80_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.bulkTag, $event) || (ctx.bulkTag = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(81, \"div\", 8)(82, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_82_listener() {\n              return ctx.bulk();\n            });\n            i0.ɵɵtext(83, \"Run Bulk\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(84, \"label\");\n            i0.ɵɵtext(85, \"Hostnames (one per line, optional)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(86, \"textarea\", 24);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_textarea_ngModelChange_86_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.bulkHosts, $event) || (ctx.bulkHosts = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(87, \"pre\", 25);\n            i0.ɵɵtext(88);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(89, \"div\", 0)(90, \"h3\");\n            i0.ɵɵtext(91, \"Bulk from selection\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(92, \"div\", 1)(93, \"div\", 2)(94, \"label\");\n            i0.ɵɵtext(95, \"Filter\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(96, \"div\", 26)(97, \"span\", 27);\n            i0.ɵɵtext(98, \"\\uD83D\\uDD0E\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(99, \"input\", 28);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_99_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.filter, $event) || (ctx.filter = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function AdminComponent_Template_input_input_99_listener() {\n              return ctx.debouncedLoad();\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(100, \"div\", 2)(101, \"label\");\n            i0.ɵɵtext(102, \"Action\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(103, \"select\", 18);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminComponent_Template_select_ngModelChange_103_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.bulkAction, $event) || (ctx.bulkAction = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(104, \"option\", 19);\n            i0.ɵɵtext(105, \"Start\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(106, \"option\", 20);\n            i0.ɵɵtext(107, \"Shutdown\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(108, \"option\", 21);\n            i0.ɵɵtext(109, \"Stop\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(110, \"option\", 22);\n            i0.ɵɵtext(111, \"Reset\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(112, \"div\", 8)(113, \"button\", 29);\n            i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_113_listener() {\n              return ctx.runBulk();\n            });\n            i0.ɵɵtext(114);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(115, AdminComponent_div_115_Template, 3, 2, \"div\", 30)(116, AdminComponent_table_116_Template, 17, 2, \"table\", 31);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.node);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedVmHost);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngValue\", \"\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.liveList);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.vmid);\n            i0.ɵɵadvance(27);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.prog);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.args);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.stdin);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.timeout);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.bulkAction);\n            i0.ɵɵadvance(12);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.bulkTag);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.bulkHosts);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.out());\n            i0.ɵɵadvance(11);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filter);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.bulkAction);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"disabled\", ctx.selectedCount() === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\"Run on \", ctx.selectedCount(), \" selected\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n        encapsulation: 2\n      });\n    }\n  }\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}