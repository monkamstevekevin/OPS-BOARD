server:
  port: 8060

spring:
  flyway:
    enabled: false
  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5433/opsdb}
    username: ${DB_USER:ops}
    password: ${DB_PASS:ops}
  jpa:
    hibernate:
      ddl-auto: update   # simple v1 (on passera ï¿½ Flyway ensuite)
    open-in-view: false  # bonne pratique JPA
    properties:
      hibernate.jdbc.time_zone: UTC
  jackson:
    serialization:
      write-dates-as-timestamps: false

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized
  info:
    env:
      enabled: true
  metrics:
    tags:
      application: caureq-ops-board

app:
  api-key: ${INGEST_API_KEY}
  status:
    upMinutes: 5
    staleMinutes: 10
  default-node: ${APP_DEFAULT_NODE:Caureqlab}   # set env APP_DEFAULT_NODE, e.g., pve01
  # If true, scheduler marks assets as seen when VM is running
  # to keep 'lastSeen' fresh even without ingest
  # Enable only if desired, default is false
  # touch-last-seen: true
  # Capture top process (pid,name,cpu,mem) optionally during live refresh (via QGA). Disabled by default.
  # capture-top: true
  # capture-interval-ms: 120000
proxmox:
  base-url: https://192.168.1.86:8006/api2/json
  token-id: ${PVE_TOKEN_ID}
  token-secret: ${PVE_TOKEN_SECRET}
  default-wait: 10s
admin:
  api-key: ${ADMIN_API_KEY}
  allow-ips: 127.0.0.1,::1,192.168.1.0/24
